#:import LoginScreen views.LoginScreen
#:import HomeScreen views.HomeScreen
#:import InventoryScreen views.InventoryScreen
#:import QrScreen views.QrScreen
#:import TaskScreen views.TaskScreen
#:import DetailsTaskScreen views.DetailsTaskScreen
#:import BudgetScreen views.BudgetScreen
#:import DetailsBudgetScreen views.DetailsBudgetScreen
#:import DetailsInventoryScreen views.DetailsInventoryScreen
#:import ProfileScreen views.ProfileScreen
#:import CourseScreen views.CourseScreen
#:import Window kivy.core.window.Window
#:import DetailsQuestionaryScreen views.DetailsQuestionaryScreen

#aquí van las vistas
ScreenManager:
    SplashScreen:
        name: 'splash'
    LoginScreen:
        name: 'login'
    Dashboard:
        name: 'dashboard'
    HomeScreen:
        name: 'home'
    InventoryScreen:
        name: 'inventory'
    # QrScreen:
    #     name: 'QR'
    TaskScreen:
        name: 'tasks'
    CourseScreen:
        name: 'course'
    DetailsTaskScreen:
        name: 'details_tasks'

    QuestionaryScreen:
        name: 'questionary'

    DetailsQuestionaryScreen:
        name: 'details_questionary'

    DetailsInventoryScreen:
        name: 'details_inventory'

    BudgetScreen:
        name: 'budgets'
    DetailsBudgetScreen:
        name: 'details_budgets'
    ProfileScreen:
        name: 'test'

 
<SplashScreen>:
    md_bg_color: app.theme_cls.primary_color
    MDBoxLayout:
        Image:
            source:'assets/splash_pymeshield.png'

<DrawerClickableItem@MDNavigationDrawerItem>
    focus_color: "#efb58c"
    text_color: "#4a4939"
    icon_color: "#4a4939"
    ripple_color: "#c5bdd2"
    selected_color: "#ff6720"

<DrawerLabelItem@MDNavigationDrawerItem>
    text_color: "#4a4939"
    icon_color: "#4a4939"
    focus_behavior: False
    selected_color: "#4a4939"
    _no_ripple_effect: True

<Dashboard>:
    MDTopAppBar:
        title: "PymeShield"
        elevation: 1
        pos_hint: {"top": 1}
        md_bg_color: "#ff6720"
        specific_text_color: "black"
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
        right_action_items: [["refresh", lambda x: app.update()]]
        
    MDNavigationLayout:

        MDScreenManager:
            id: screen_manager
            HomeScreen:
                name: "Inicio"

            ProfileScreen:
                name: "profile"

            TaskScreen:
                name: "tasks"

            DetailsTaskScreen:
                name: "details_tasks"

            BudgetScreen:
                name: "budgets"

            CourseScreen:
                name: "course"

            DetailsBudgetScreen:
                name: "details_budgets"
            
            DetailsInventoryScreen:
                name: "details_inventory"

            QuestionaryScreen:
                name: "questionary"

            DetailsQuestionaryScreen:
                name: "details_questionary"

            MDScreen:
                name: "Gantt"
                               
            MDScreen:
                name: "Listado tareas"
                               
            InventoryScreen:
                name: "inventory"

            MDScreen:
                name: "Contacto"

            QrScreen:
                name: "QR"

        MDNavigationDrawer:
            id: nav_drawer    
            elevation: 1    
            radius:(0, 16, 16, 0)
            BoxLayout:
                orientation: 'vertical' 
                ContentNavigationDrawer:
                    manager: screen_manager
                    nav_drawer: nav_drawer
                    
<ContentNavigationDrawer>:
    MDNavigationDrawerMenu:
        MDNavigationDrawerHeader:
            title: "Pymeshield"
            title_font_style: "H5"
            text: "Menú"
            source: "assets/logo_menu.png"
            spacing: "20dp"
            padding: "12dp", 0, 0, "56dp"

        DrawerClickableItem:
            text: "Inicio"
            icon: "home"
            on_release: 
                root.nav_drawer.set_state("close")
                root.manager.current="Inicio"

        DrawerClickableItem:
            text: "Informes"
            icon: "file-document"
            on_release: 
                root.nav_drawer.set_state("close")
                root.manager.current="questionary"     

        DrawerClickableItem:
            text: "Tareas"
            icon: "clipboard-list"
            on_release: 
                root.nav_drawer.set_state("close")
                root.manager.current="tasks"  

        DrawerClickableItem:
            text: "Presupuesto"
            icon: "chart-gantt"
            on_release: 
                root.nav_drawer.set_state("close")
                root.manager.current="budgets"  

        DrawerClickableItem:
            icon: "book-education"
            text: "Cursos"
            on_release: 
                root.nav_drawer.set_state("close")
                root.manager.current="course"

        DrawerClickableItem:
            text: "QR"
            icon: "qrcode-scan"
            on_release: 
                root.nav_drawer.set_state("close")
                root.manager.current="inventory" 

        DrawerClickableItem:
            icon: "email"
            text: "Contacto"
            on_release: 
                root.nav_drawer.set_state("close")
                root.manager.current="Contacto"