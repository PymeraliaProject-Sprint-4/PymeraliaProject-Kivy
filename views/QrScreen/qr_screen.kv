#:import ZBarCam kivy_garden.zbarcam.ZBarCam
#:import ZBarSymbol pyzbar.pyzbar.ZBarSymbol

<QrScreen>:
    # md_bg_color: app.theme_cls.bg_dark    
    MDBoxLayout:
        orientation: 'vertical'
        # TODO: La c√†mera s'obre per defecte...
        ZBarCam:
            id: zbarcam
            # optional, by default checks all types
            code_types: ZBarSymbol.QRCODE, ZBarSymbol.EAN13
        MDLabel:
            id: qrlabel
            size_hint: None, None
            size: self.texture_size[0], 50
            text: ', '.join([str(symbol.data) for symbol in zbarcam.symbols])
            on_text: root.calc(self.text)

    MDRectangleFlatButton:
        pos_hint: {'center_y': 0.80, 'x': 0.8}
        on_release: root.goHome()
        MDIcon:
            icon: 'home'
            halign: 'center'